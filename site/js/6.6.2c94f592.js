webpackJsonp([6],{VKKr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("SldL");var r=a("7hDC"),s=a.n(r),n=a("Biqn"),i=a.n(n),l=a("NYxO"),o=Object(l["a"])("user"),m=o.mapState,u=o.mapActions,c="https://t.me/".concat("RealityCoinsBot"),d={data:function(){return{lang:"",username:"",email:"",password:"",passwordConfirm:"",emailEnabled:!1,telegramUsername:"",telegramFullName:"",telegramAcivated:!1,telegramEnabled:!1,passVisible:!1,passConfirmVisible:!1,isSubmit:!1,loadingEmail:!1,showRemove:!1,telegramBotLink:c}},computed:i()({},m({langStore:function(e){return e.lang},usernameStore:function(e){return e.username},emailStore:function(e){return e.email},emailEnabledStore:function(e){return e.emailEnabled},telegramUsernameStore:function(e){return e.telegramUsername},telegramFullNameStore:function(e){return e.telegramFullName},telegramAcivatedStore:function(e){return e.telegramAcivated},telegramEnabledStore:function(e){return e.telegramEnabled}}),{languages:function(){return this.$store.state.languages},isEmailChange:function(){return this.email!==this.emailStore},isUsernameChange:function(){return this.username!==this.usernameStore},isLangChange:function(){return this.lang!==this.langStore},isEmailEnabled:function(){return this.emailEnabled!==this.emailEnabledStore},isTelegramUsernameChange:function(){return this.telegramUsername!==this.telegramUsernameStore},isTelegramEnabledChange:function(){return this.telegramEnabled!==this.telegramEnabledStore},isSubmitDisabled:function(){return!(this.isEmailChange||this.isUsernameChange||this.isLangChange||this.password||this.isEmailEnabled||this.isTelegramUsernameChange||this.isTelegramEnabledChange)||this.errors.any()}}),methods:i()({},u(["userUpdate","userRemove"]),{onSubmit:function(){var e=s()(regeneratorRuntime.mark(function e(){var t,a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.email,a=this.isEmailChange,e.next=3,this.$validator.validateAll(i()({},a?{email:t}:null));case 3:if(r=e.sent,!r){e.next=21;break}return s={},this.isUsernameChange&&(s.username=this.username),this.isEmailChange&&(s.email=t),this.password&&(s.password=this.password),this.isLangChange&&(s.lang=this.lang),this.isEmailEnabled&&(s.email_enabled=this.emailEnabled),this.isTelegramEnabledChange&&(s.telegram_enabled=this.telegramEnabled),this.isTelegramUsernameChange&&(s.telegram_username=this.telegramUsername,s.telegram_activated=this.telegram_activated),e.prev=13,e.next=16,this.userUpdate(s);case 16:this.isSubmit=!0,e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](13);case 21:case"end":return e.stop()}},e,this,[[13,19]])}));return function(){return e.apply(this,arguments)}}(),onBack:function(){this.$router.push({name:"signIn"})},onCancel:function(){this.setLocalUserInfo()},onRemove:function(){var e=s()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userRemove();case 3:this.$router.push({name:"signIn"}),e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),setLocalUserInfo:function(){this.lang=this.langStore,this.username=this.usernameStore,this.email=this.emailStore,this.password=this.passwordConfirm="",this.emailEnabled=this.emailEnabledStore,this.telegramUsername=this.telegramUsernameStore,this.telegramFullName=this.telegramFullNameStore,this.telegramActivated=this.telegramActivatedStore,this.telegramEnabled=this.telegramEnabledStore},onInputEmail:function(){var e=s()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isEmailChange){e.next=4;break}return this.loadingEmail=!0,e.next=4,this.$validator.validate("email",t);case 4:this.loadingEmail=!1;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}),created:function(){this.setLocalUserInfo(),this.$validator.attach({name:"email",rules:{required:!0,email:!0,check_email:!0},delay:500})},i18n:{messages:{en:{submitMessage:"Success.",userRemove:"Remove Accaunt",telegramActivated:"Activated Telegram",messageRemove:"Are you sure you want to delete this account?"},ru:{submitMessage:"Сохранено.",userRemove:"Удалить профиль",telegramActivated:"Активировать Telegram",messageRemove:"Вы уверенны в удалении пользователя?"}}}},v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{height:"100%"}},[a("v-card-text",[a("v-container",{attrs:{"grid-list-lg":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"310"},model:{value:e.showRemove,callback:function(t){e.showRemove=t},expression:"showRemove"}},[a("v-card",[a("v-card-text",{domProps:{textContent:e._s(e.$t("messageRemove"))}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-1",flat:""},domProps:{textContent:e._s("OK")},on:{click:e.onRemove}}),a("v-btn",{attrs:{flat:""},domProps:{textContent:e._s(e.$t("cancel"))},on:{click:function(t){e.showRemove=!1}}})],1)],1)],1),a("v-layout",[a("v-flex",{attrs:{xs12:"",sm5:"",md3:""}},[a("v-btn",{attrs:{block:""},domProps:{textContent:e._s(e.$t("userRemove"))},on:{click:function(t){e.showRemove=!0}}})],1)],1),a("v-layout",[a("v-flex",{attrs:{xs5:""}},[a("span",{domProps:{textContent:e._s(e.$t("notificationLanguage"))}}),a("v-radio-group",{attrs:{row:e.$vuetify.breakpoint.smAndUp},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},e._l(e.languages,function(e,t){return a("v-radio",{key:t,attrs:{primary:"",label:e.title,value:e.lang}})}))],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"focus",rawName:"v-focus"},{name:"validate",rawName:"v-validate",value:{min:5,max:30,alpha:!0},expression:"{ min: 5, max: 30, alpha: true }"}],attrs:{"data-focus":"",label:e.$t("username"),"error-messages":e.errors.collect("username"),"data-vv-name":"username"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$refs.email.focus()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{ref:"email",attrs:{label:e.$t("email"),"error-messages":e.errors.collect("email"),loading:e.loadingEmail},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$refs.password.focus()},input:e.onInputEmail},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{min:5,max:30,regex:/^\S+$/},expression:"{ min: 5, max: 30, regex: /^\\S+$/ }"}],ref:"password",attrs:{label:e.$t("password"),"append-icon":e.passVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.passVisible=!e.passVisible},"error-messages":e.errors.collect("password"),type:e.passVisible?"text":"password",name:"password","data-vv-name":"password"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$refs.passwordConfirm.focus()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{confirmed:"password"},expression:'{ confirmed: "password" }'}],ref:"passwordConfirm",attrs:{label:e.$t("passwordConfirm"),"append-icon":e.passConfirmVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.passConfirmVisible=!e.passConfirmVisible},"error-messages":e.errors.collect("passwordConfirm"),type:e.passConfirmVisible?"text":"password","data-vv-name":"passwordConfirm"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.$refs.telegramUsername.focus()}},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}})],1)],1),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:{max:32,regex:/^\w+$/},expression:"{ max: 32, regex: /^\\w+$/ }"}],ref:"telegramUsername",attrs:{label:e.$t("telegramUsername"),"error-messages":e.errors.collect("telegramUsername"),"data-vv-name":"telegramUsername"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onSubmit(t):null}},model:{value:e.telegramUsername,callback:function(t){e.telegramUsername=t},expression:"telegramUsername"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[e.telegramAcivated&&!e.isTelegramUsernameChange?a("v-text-field",{attrs:{label:e.$t("telegramFullName"),readonly:""},model:{value:e.telegramFullName,callback:function(t){e.telegramFullName=t},expression:"telegramFullName"}}):a("v-btn",{attrs:{color:"primary",href:e.telegramBotLink,target:"_blank",block:""},domProps:{textContent:e._s(e.$t("telegramActivated"))}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-switch",{attrs:{label:e.$t("emailEnabled")},model:{value:e.emailEnabled,callback:function(t){e.emailEnabled=t},expression:"emailEnabled"}})],1),a("v-flex",{attrs:{xs12:"",md6:""}},[a("v-switch",{attrs:{label:e.$t("telegramEnabled")},model:{value:e.telegramEnabled,callback:function(t){e.telegramEnabled=t},expression:"telegramEnabled"}})],1)],1),e.isSubmit?a("v-layout",[a("v-flex",[a("v-alert",{attrs:{type:"success",transition:"scale-transition",dismissible:""},model:{value:e.isSubmit,callback:function(t){e.isSubmit=t},expression:"isSubmit"}},[e._v(e._s(e.$t("submitMessage")))])],1)],1):e._e()],1)],1),a("v-card-actions",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-spacer",{staticClass:"hidden-xs-only"}),a("v-flex",{attrs:{xs12:"",sm5:"",md3:""}},[a("v-btn",{attrs:{block:"",flat:""},domProps:{textContent:e._s(e.$t("cancel"))},on:{click:e.onCancel}})],1),a("v-flex",{attrs:{xs12:"",sm5:"",md3:""}},[a("v-btn",{attrs:{block:"",flat:"",color:"primary",disabled:e.isSubmitDisabled},domProps:{textContent:e._s(e.$t("save"))},on:{click:e.onSubmit}})],1)],1)],1)],1)],1)},g=[],f=a("XyMi"),p=!1,h=null,b=null,x=null,w=Object(f["a"])(d,v,g,p,h,b,x);t["default"]=w.exports}});